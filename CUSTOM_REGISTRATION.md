# –ö–∞—Å—Ç–æ–º–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ —Å–∞–π—Ç—ñ

## –û–≥–ª—è–¥

–¢–µ–ø–µ—Ä —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –Ω–∞ –≤–∞—à–æ–º—É —Å–∞–π—Ç—ñ –±–µ–∑ —Ä–µ–¥—ñ—Ä–µ–∫—Ç—ñ–≤ –Ω–∞ Cognito Hosted UI. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è AWS Amplify –¥–ª—è –ø—Ä—è–º–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ Cognito API.

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

- `aws-amplify` - AWS SDK –¥–ª—è JavaScript
- `@aws-amplify/ui-react` - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è Amplify

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### 1. CognitoService
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Cognito API:

```javascript
// –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
const result = await CognitoService.signUp({
  email: 'user@example.com',
  password: 'password123',
  name: 'John Doe'
});

// –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email
const result = await CognitoService.confirmSignUp(email, code);

// –ü–æ–≤—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –∫–æ–¥—É
const result = await CognitoService.resendConfirmationCode(email);
```

### 2. –§–æ—Ä–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
–ü–æ–≤–Ω–∞ —Ñ–æ—Ä–º–∞ –∑ —É—Å—ñ–º–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:

- **–Ü–º'—è** (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- **Email** (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- **–ü–∞—Ä–æ–ª—å** (–º—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤)
- **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è** (–º–∞—î —Å–ø—ñ–≤–ø–∞–¥–∞—Ç–∏)
- **–ü–æ–≥–æ–¥–∂–µ–Ω–Ω—è –∑ —É–º–æ–≤–∞–º–∏** (—á–µ–∫–±–æ–∫—Å)

### 3. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Ñ–æ—Ä–º–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:

- –ü–æ–∫–∞–∑—É—î email, –Ω–∞ —è–∫–∏–π –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ–¥
- –ü–æ–ª–µ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –∫–æ–¥—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- –ö–Ω–æ–ø–∫–∞ "–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

## –ü—Ä–æ—Ü–µ—Å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

### –ö—Ä–æ–∫ 1: –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ—Ä–º–∏
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —ñ–º'—è, email, –ø–∞—Ä–æ–ª—å
2. –§–æ—Ä–º–∞ –≤–∞–ª—ñ–¥—É—î—Ç—å—Å—è (email —Ñ–æ—Ä–º–∞—Ç, —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤, –¥–æ–≤–∂–∏–Ω–∞)
3. –ù–∞—Ç–∏—Å–∫–∞—î "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç"

### –ö—Ä–æ–∫ 2: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ Cognito
1. CognitoService.signUp() –≤–∏–∫–ª–∏–∫–∞—î Cognito API
2. Cognito —Å—Ç–≤–æ—Ä—é—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ User Pool
3. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–∞ email
4. –ü–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 3: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –∫–æ–¥ –∑ email
2. CognitoService.confirmSignUp() –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é
3. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cognito

### User Pool Configuration
- **User Pool ID**: `eu-central-1_liScrW4G3`
- **App Client ID**: `35ktssblhrugrug23uvbtsbm5r`
- **Region**: `eu-central-1`

### Authentication Flows
- ‚úÖ ALLOW_USER_SRP_AUTH
- ‚úÖ ALLOW_USER_PASSWORD_AUTH
- ‚úÖ ALLOW_REFRESH_TOKEN_AUTH

### Password Policy
- –ú—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤
- –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å (–≤–µ–ª–∏–∫—ñ/–º–∞–ª—ñ –ª—ñ—Ç–µ—Ä–∏, —Ü–∏—Ñ—Ä–∏, —Å–∏–º–≤–æ–ª–∏)

## –ü–µ—Ä–µ–≤–∞–≥–∏ –∫–∞—Å—Ç–æ–º–Ω–æ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

‚úÖ **–ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ UI/UX** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–ª–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω
‚úÖ **–ë–µ–∑ —Ä–µ–¥—ñ—Ä–µ–∫—Ç—ñ–≤** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É —Å–∞–π—Ç—ñ
‚úÖ **–ö–∞—Å—Ç–æ–º–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** - –¥–æ–¥–∞–π—Ç–µ –≤–ª–∞—Å–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
‚úÖ **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –¥–∏–∑–∞–π–Ω–æ–º** - —Ñ–æ—Ä–º–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—Ç–∏–ª—é —Å–∞–π—Ç—É
‚úÖ **–ö—Ä–∞—â–∏–π UX** - –ø–ª–∞–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ –º—ñ–∂ —Å–∞–π—Ç–∞–º–∏

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ Cognito

1. **UsernameExistsException**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ —ñ—Å–Ω—É—î
2. **InvalidPasswordException**: –ü–∞—Ä–æ–ª—å –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–æ–ª—ñ—Ç–∏—Ü—ñ
3. **InvalidParameterException**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
4. **CodeMismatchException**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
5. **ExpiredCodeException**: –ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–≤

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ

```javascript
const validateForm = () => {
  if (!formData.email.includes('@')) {
    setError('–í–≤–µ–¥—ñ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É email –∞–¥—Ä–µ—Å—É');
    return false;
  }
  if (formData.password !== formData.confirmPassword) {
    setError('–ü–∞—Ä–æ–ª—ñ –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å');
    return false;
  }
  if (formData.password.length < 8) {
    setError('–ü–∞—Ä–æ–ª—å –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ 8 —Å–∏–º–≤–æ–ª—ñ–≤');
    return false;
  }
  return true;
};
```

## –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

CognitoService –ª–æ–≥—É—î –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:

```javascript
console.log('üöÄ Cognito signUp:', { email: userData.email, name: userData.name });
console.log('‚úÖ Cognito signUp success:', result);
console.error('‚ùå Cognito signUp error:', error);
```

## –ë–µ–∑–ø–µ–∫–∞

1. **–ü–∞—Ä–æ–ª—ñ** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Cognito –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
2. **Email –∫–æ–¥–∏** –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–∏–π —á–∞—Å –∂–∏—Ç—Ç—è
3. **Rate limiting** - Cognito –æ–±–º–µ–∂—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—Ä–æ–±
4. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è** –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ç–∞ –∫–ª—ñ—î–Ω—Ç—ñ

## –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–ª—è
–ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –∞—Ç—Ä–∏–±—É—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

```javascript
attributes: {
  email: userData.email,
  name: userData.name,
  phone_number: userData.phone,
  // —ñ–Ω—à—ñ –∞—Ç—Ä–∏–±—É—Ç–∏
}
```

### –ö–∞—Å—Ç–æ–º–Ω—ñ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
–î–æ–¥–∞–π—Ç–µ Lambda —Ç—Ä–∏–≥–µ—Ä–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:

```javascript
// Pre Sign-up trigger
exports.handler = async (event) => {
  // –ö–∞—Å—Ç–æ–º–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
  if (event.request.userAttributes.email.includes('test')) {
    throw new Error('Test emails not allowed');
  }
  return event;
};
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "User already exists"
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ —Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–∞–Ω—ñ—à–µ

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid password format"
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Password Policy –≤ Cognito

### –ü—Ä–æ–±–ª–µ–º–∞: "Code expired"
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É "–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ"

### –ü—Ä–æ–±–ª–µ–º–∞: "Network error"
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cognito
